{
	"version": "2.0.0",
	"tasks": [
		{
			"label": "Compile target install",
			"type": "shell",
			"linux": {
				"command": [
					"cd ../ &&",
					"cmake --build pharo-vm-build --target install &&",
					"rm -rf build/ pharo-vm-build/build/dist/lib/libss*"
				]
			},
			"group": "build",
			"presentation": {
				"reveal": "always",
				"panel": "new"
			}
		},
		{
			"label": "Prepare compilation",
			"type": "shell",
			"linux": {
				"command": [
					"cd ../ && rm -rf pharo-vm-c-src && mkdir -p pharo-vm-c-src && cd pharo-vm-c-src &&",
					"wget https://files.pharo.org/vm/pharo-spur64-headless/Linux-x86_64/source/latest10.zip &&",
					"unzip latest10.zip && cd ../ &&",
					"cmake -S pharo-vm -B pharo-vm-build -DPHARO_DEPENDENCIES_PREFER_DOWNLOAD_BINARIES=TRUE -DBUILD_IS_RELEASE=ON -DICEBERG_DEFAULT_REMOTE=httpsUrl -DGENERATE_SOURCES=FALSE -DGENERATED_SOURCE_DIR=../pharo-vm-c-src/pharo-vm/"
				]
			},
			"group": "build",
			"presentation": {
				"reveal": "always",
				"panel": "new"
			}
		},
		{
			"label": "(Hard) Clean build",
			"type": "shell",
			"linux": {
				"command": "rm -rf build"
			},
			"group": "build",
			"presentation": {
				"reveal": "always",
				"panel": "new"
			}
		}
	]
}